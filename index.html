<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>YTSEO.ai ‚Äì Smart SEO. More Views. Less Hassle.</title>
  <link rel="icon" type="image/x-icon" href="favicon.ico" />
  <style>
    /* Your existing CSS (from the previous complete file) goes here. */
    :root {
      --bg-light: #f5f5f5;
      --bg-dark: #121212;
      --text-light: #333;
      --text-dark: #f5f5f5;
      --card-light: #fff;
      --card-dark: #1e1e1e;
      --btn-light: #007bff;
      --btn-dark: #3399ff;
      --green: #28a745;
      --highlight: #e57c23;
      --border-radius: 8px;
    }

    * {
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 1rem;
      background-color: var(--bg-light);
      color: var(--text-light);
      transition: all 0.3s ease;
      min-height: 100vh;
      line-height: 1.6;
    }

    body.dark {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      padding: 1rem;
    }

    /* Header Styles */
    .text-logo-header {
      text-align: center;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .text-logo-header h1 {
      font-size: clamp(1.8rem, 5vw, 2.5rem);
      font-weight: 800;
      color: var(--highlight);
      margin-bottom: 0.2rem;
      letter-spacing: -0.5px;
    }

    .text-logo-header h1 span {
      color: var(--text-light);
    }

    body.dark .text-logo-header h1 span {
      color: var(--text-dark);
    }

    .tagline {
      font-size: clamp(0.9rem, 3vw, 1.1rem);
      color: #666;
      margin-bottom: 2rem;
      text-align: center;
    }

    body.dark .tagline {
      color: #aaa;
    }

    /* Control Buttons */
    .control-buttons {
      position: absolute;
      top: 1.5rem;
      right: 1rem;
      display: flex;
      gap: 10px;
    }

    .control-btn {
      background: none;
      border: 2px solid #666;
      padding: 6px 12px;
      border-radius: var(--border-radius);
      cursor: pointer;
      color: #666;
      font-size: 0.9rem;
      transition: all 0.2s;
    }

    body.dark .control-btn {
      border-color: #bbb;
      color: #bbb;
    }

    .control-btn:hover {
      background: rgba(0,0,0,0.1);
    }

    body.dark .control-btn:hover {
      background: rgba(255,255,255,0.1);
    }

    /* Form Elements */
    .section {
      margin-bottom: 1.5rem;
    }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: 0.5rem;
      color: var(--highlight);
    }

    textarea, select, input {
      width: 100%;
      padding: 0.8rem;
      font-size: 1rem;
      margin-bottom: 1rem;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      background-color: var(--card-light);
      color: inherit;
      transition: all 0.3s;
    }

    textarea {
      min-height: 100px;
      resize: vertical;
    }

    body.dark textarea,
    body.dark select,
    body.dark input {
      background-color: var(--card-dark);
      border: 1px solid #444;
      color: var(--text-dark);
    }

    /* Buttons */
    .btn-group {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    .btn {
      padding: 0.8rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: all 0.2s;
      font-weight: 600;
      flex: 1;
      min-width: 120px;
      text-align: center;
    }

    .btn-primary {
      background-color: var(--green);
      color: white;
    }

    .btn-primary:hover {
      background-color: #218838;
      transform: translateY(-2px);
    }

    .btn-secondary {
      background-color: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background-color: #5a6268;
      transform: translateY(-2px);
    }

    .btn-tertiary {
      background-color: var(--btn-light);
      color: white;
    }

    .btn-tertiary:hover {
      background-color: #0056b3;
      transform: translateY(-2px);
    }

    /* Card Styles */
    .result-card {
      background-color: var(--card-light);
      border-radius: var(--border-radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.05);
    }

    body.dark .result-card {
      background-color: var(--card-dark);
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }

    /* Footer */
    footer {
      margin-top: 3rem;
      font-size: 0.9rem;
      color: #999;
      text-align: center;
      padding: 1rem 0;
    }

    body.dark footer {
      color: #666;
    }

    /* Mobile Responsiveness */
    @media (max-width: 768px) {
      .container {
        padding: 0.5rem;
      }

      .control-buttons {
        position: static;
        justify-content: center;
        margin-bottom: 1rem;
        margin-top: 1rem;
      }

      .btn {
        width: 100%;
      }
    }

    /* Language Selector */
    #uiLang {
      padding: 0.5rem;
      border-radius: var(--border-radius);
      border: 1px solid #ddd;
      background-color: var(--card-light);
      color: inherit;
    }

    body.dark #uiLang {
      background-color: var(--card-dark);
      border-color: #444;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="control-buttons">
      <button class="control-btn" onclick="toggleDarkMode()" data-translate-key="darkModeButton">üåô Dark Mode</button>
      <select id="uiLang" onchange="changeUILanguage()" class="control-btn" style="appearance: none; padding-right: 1.5rem;">
        <option value="en">üåê English</option>
        <option value="hi">üåê ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="ur">üåê ÿßÿ±ÿØŸà</option>
        <option value="ru">üåê –†—É—Å—Å–∫–∏–π</option>
      </select>
    </div>

    <div class="text-logo-header">
      <h1>YT<span>SEO</span>.ai</h1>
      <p class="tagline" data-translate-key="tagline">Smart SEO. More Views. Less Hassle.</p>
    </div>

    <div class="section">
      <label for="inputTopic" data-translate-key="videoTopicLabel">üìù Video Topic/Script</label>
      <textarea id="inputTopic" placeholder="e.g. A story about a lion who learns humility..." data-translate-key="videoTopicPlaceholder"></textarea>
    </div>

    <div class="section" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
      <div>
        <label for="language" data-translate-key="contentLanguageLabel">üåç Language</label>
        <select id="language">
          <option value="english" data-translate-key="englishOption">English</option>
          <option value="hindi" data-translate-key="hindiOption">Hindi</option>
          <option value="urdu" data-translate-key="urduOption">Urdu</option>
          <option value="russian" data-translate-key="russianOption">Russian</option>
        </select>
      </div>
      <div>
        <label for="type" data-translate-key="videoFormatLabel">üé¨ Video Format</label>
        <select id="type">
          <option value="shorts" data-translate-key="shortVideoOption">Short Video</option>
          <option value="long" data-translate-key="longVideoOption">Long Video</option>
        </select>
      </div>
    </div>

    <div class="btn-group">
      <button class="btn btn-primary" onclick="generateSEO()" data-translate-key="generateSEOButton">‚ö° Generate SEO</button>
      <button class="btn btn-secondary" onclick="resetFields()" data-translate-key="resetButton">üîÅ Reset</button>
      <button class="btn btn-tertiary" onclick="downloadTxt()" data-translate-key="exportButton">üì• Export</button>
    </div>

    <div class="result-card">
      <label for="titleBox" data-translate-key="titleLabel">üéØ Title</label>
      <textarea id="titleBox" placeholder="Your optimized title will appear here..." data-translate-key="titlePlaceholder"></textarea>
      <button class="btn btn-tertiary" onclick="copyToClipboard('titleBox')" data-translate-key="copyTitleButton">Copy Title</button>
    </div>

    <div class="result-card">
      <label for="descBox" data-translate-key="descriptionLabel">üìù Description</label>
      <textarea id="descBox" placeholder="Your SEO description will appear here..." data-translate-key="descriptionPlaceholder"></textarea>
      <button class="btn btn-tertiary" onclick="copyToClipboard('descBox')" data-translate-key="copyDescriptionButton">Copy Description</button>
    </div>

    <div class="result-card">
      <label for="hashtagBox" data-translate-key="hashtagsLabel">üìå Hashtags</label>
      <textarea id="hashtagBox" placeholder="Relevant hashtags will appear here..." data-translate-key="hashtagsPlaceholder"></textarea>
      <button class="btn btn-tertiary" onclick="copyToClipboard('hashtagBox')" data-translate-key="copyHashtagsButton">Copy Hashtags</button>
    </div>

    <div class="result-card">
      <label for="tagsBox" data-translate-key="videoTagsLabel">üîñ Video Tags</label>
      <textarea id="tagsBox" placeholder="Optimized tags will appear here..." data-translate-key="videoTagsPlaceholder"></textarea>
      <button class="btn btn-tertiary" onclick="copyToClipboard('tagsBox')" data-translate-key="copyTagsButton">Copy Tags</button>
    </div>

    <footer>
      <span data-translate-key="footerText">Powered by <strong>YTSEO.ai</strong> ‚Äì Built with ‚ù§Ô∏è for global creators</span>
    </footer>
  </div>

  <script>
    let seoTips = []; // Global variable to store loaded SEO data

    // 1. SAFER JSON LOADING (DeepSeek's improvement)
    async function loadSEOTips() {
      try {
        const response = await fetch('seo-data.json');
        if (!response.ok) throw new Error('Failed to load SEO data');
        return await response.json();
      } catch (error) {
        console.error('Error loading SEO data. Using fallback:', error);
        return { seo_tips: [] }; // Return an empty array on error
      }
    }

    // Translations object (this remains the same from our last update)
    const translations = {
      en: {
        darkModeButton: 'üåô Dark Mode',
        lightModeButton: '‚òÄÔ∏è Light Mode',
        tagline: 'Smart SEO. More Views. Less Hassle.',
        videoTopicLabel: 'üìù Video Topic/Script',
        videoTopicPlaceholder: 'e.g. A story about a lion who learns humility...',
        contentLanguageLabel: 'üåç Language',
        englishOption: 'English',
        hindiOption: 'Hindi',
        urduOption: 'Urdu',
        russianOption: 'Russian',
        videoFormatLabel: 'üé¨ Video Format',
        shortVideoOption: 'Short Video',
        longVideoOption: 'Long Video',
        generateSEOButton: '‚ö° Generate SEO',
        resetButton: 'üîÅ Reset',
        exportButton: 'üì• Export',
        titleLabel: 'üéØ Title',
        titlePlaceholder: 'Your optimized title will appear here...',
        copyTitleButton: 'Copy Title',
        descriptionLabel: 'üìù Description',
        descriptionPlaceholder: 'Your SEO description will appear here...',
        copyDescriptionButton: 'Copy Description',
        hashtagsLabel: 'üìå Hashtags',
        hashtagsPlaceholder: 'Relevant hashtags will appear here...',
        videoTagsLabel: 'üîñ Video Tags',
        videoTagsPlaceholder: 'Optimized tags will appear here...',
        copyTagsButton: 'Copy Tags',
        copyHashtagsButton: 'Copy Hashtags',
        footerText: 'Powered by <strong>YTSEO.ai</strong> ‚Äì Built with ‚ù§Ô∏è for global creators',
        alertEnterTopic: 'Please enter a video topic first!',
        alertGenerateContent: 'Generate some content first!',
        copiedSuccess: '‚úì Copied!',
      },
      hi: {
        darkModeButton: 'üåô ‡§°‡§æ‡§∞‡•ç‡§ï ‡§Æ‡•ã‡§°',
        lightModeButton: '‚òÄÔ∏è ‡§≤‡§æ‡§á‡§ü ‡§Æ‡•ã‡§°',
        tagline: '‡§∏‡•ç‡§Æ‡§æ‡§∞‡•ç‡§ü ‡§è‡§∏‡§à‡§ì‡•§ ‡§Ö‡§ß‡§ø‡§ï ‡§µ‡•ç‡§Ø‡•Ç‡§ú‡•§ ‡§ï‡§Æ ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä‡•§',
        videoTopicLabel: 'üìù ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§µ‡§ø‡§∑‡§Ø/‡§∏‡•ç‡§ï‡•ç‡§∞‡§ø‡§™‡•ç‡§ü',
        videoTopicPlaceholder: '‡§â‡§¶‡§æ. ‡§è‡§ï ‡§∂‡•á‡§∞ ‡§ï‡•Ä ‡§ï‡§π‡§æ‡§®‡•Ä ‡§ú‡•ã ‡§µ‡§ø‡§®‡§Æ‡•ç‡§∞‡§§‡§æ ‡§∏‡•Ä‡§ñ‡§§‡§æ ‡§π‡•à...',
        contentLanguageLabel: 'üåç ‡§≠‡§æ‡§∑‡§æ',
        englishOption: '‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡•Ä',
        hindiOption: '‡§π‡§ø‡§®‡•ç‡§¶‡•Ä',
        urduOption: '‡§â‡§∞‡•ç‡§¶‡•Ç',
        russianOption: '‡§∞‡•Ç‡§∏‡•Ä',
        videoFormatLabel: 'üé¨ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§™‡•ç‡§∞‡§æ‡§∞‡•Ç‡§™',
        shortVideoOption: '‡§õ‡•ã‡§ü‡§æ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã',
        longVideoOption: '‡§≤‡§Ç‡§¨‡§æ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã',
        generateSEOButton: '‚ö° ‡§è‡§∏‡§à‡§ì ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç',
        resetButton: 'üîÅ ‡§∞‡•Ä‡§∏‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç',
        exportButton: 'üì• ‡§®‡§ø‡§∞‡•ç‡§Ø‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç',
        titleLabel: 'üéØ ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï',
        titlePlaceholder: '‡§Ü‡§™‡§ï‡§æ ‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§ø‡§§ ‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§Ø‡§π‡§æ‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ...',
        copyTitleButton: '‡§∂‡•Ä‡§∞‡•ç‡§∑‡§ï ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç',
        descriptionLabel: 'üìù ‡§µ‡§ø‡§µ‡§∞‡§£',
        descriptionPlaceholder: '‡§Ü‡§™‡§ï‡§æ ‡§è‡§∏‡§à‡§ì ‡§µ‡§ø‡§µ‡§∞‡§£ ‡§Ø‡§π‡§æ‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ...',
        copyDescriptionButton: '‡§µ‡§ø‡§µ‡§∞‡§£ ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç',
        hashtagsLabel: 'üìå ‡§π‡•à‡§∂‡§ü‡•à‡§ó',
        hashtagsPlaceholder: '‡§™‡•ç‡§∞‡§æ‡§∏‡§Ç‡§ó‡§ø‡§ï ‡§π‡•à‡§∂‡§ü‡•à‡§ó ‡§Ø‡§π‡§æ‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§Ç‡§ó‡•á...',
        videoTagsLabel: 'üîñ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ü‡•à‡§ó',
        videoTagsPlaceholder: '‡§Ö‡§®‡•Å‡§ï‡•Ç‡§≤‡§ø‡§§ ‡§ü‡•à‡§ó ‡§Ø‡§π‡§æ‡§Ç ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§Ç‡§ó‡•á...',
        copyTagsButton: '‡§ü‡•à‡§ó ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç',
        copyHashtagsButton: '‡§π‡•à‡§∂‡§ü‡•à‡§ó ‡§ï‡•â‡§™‡•Ä ‡§ï‡§∞‡•á‡§Ç',
        footerText: '<strong>YTSEO.ai</strong> ‡§¶‡•ç‡§µ‡§æ‡§∞‡§æ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§ø‡§§ ‚Äì ‡§µ‡•à‡§∂‡•ç‡§µ‡§ø‡§ï ‡§∞‡§ö‡§®‡§æ‡§ï‡§æ‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‚ù§Ô∏è ‡§∏‡•á ‡§®‡§ø‡§∞‡•ç‡§Æ‡§ø‡§§',
        alertEnterTopic: '‡§ï‡•É‡§™‡§Ø‡§æ ‡§™‡§π‡§≤‡•á ‡§è‡§ï ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§µ‡§ø‡§∑‡§Ø ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!',
        alertGenerateContent: '‡§™‡§π‡§≤‡•á ‡§ï‡•Å‡§õ ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§ú‡§®‡§∞‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç!',
        copiedSuccess: '‚úì ‡§ï‡•â‡§™‡•Ä ‡§ï‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ!',
      },
      ur: {
        darkModeButton: 'üåô ⁄àÿßÿ±⁄© ŸÖŸà⁄à',
        lightModeButton: '‚òÄÔ∏è ŸÑÿßÿ¶Ÿπ ŸÖŸà⁄à',
        tagline: 'ÿ≥ŸÖÿßÿ±Ÿπ ÿß€åÿ≥ ÿß€å ÿßŸà€î ŸÖÿ≤€åÿØ ÿ¢ÿ±ÿßÿ°€î ⁄©ŸÖ Ÿæÿ±€åÿ¥ÿßŸÜ€å€î',
        videoTopicLabel: 'üìù Ÿà€å⁄à€åŸà ⁄©ÿß ŸÖŸàÿ∂Ÿàÿπ/ÿßÿ≥⁄©ÿ±ŸæŸπ',
        videoTopicPlaceholder: 'ŸÖÿ´ÿßŸÑ ⁄©€í ÿ∑Ÿàÿ± Ÿæÿ±: ÿß€å⁄© ÿ¥€åÿ± ⁄©€å ⁄©€ÅÿßŸÜ€å ÿ¨Ÿà ÿπÿßÿ¨ÿ≤€å ÿ≥€å⁄©⁄æÿ™ÿß €Å€í...',
        contentLanguageLabel: 'üåç ÿ≤ÿ®ÿßŸÜ',
        englishOption: 'ÿßŸÜ⁄Øÿ±€åÿ≤€å',
        hindiOption: '€ÅŸÜÿØ€å',
        urduOption: 'ÿßÿ±ÿØŸà',
        russianOption: 'ÿ±Ÿàÿ≥€å',
        videoFormatLabel: 'üé¨ Ÿà€å⁄à€åŸà ŸÅÿßÿ±ŸÖ€åŸπ',
        shortVideoOption: 'ŸÖÿÆÿ™ÿµÿ± Ÿà€å⁄à€åŸà',
        longVideoOption: 'ÿ∑Ÿà€åŸÑ Ÿà€å⁄à€åŸà',
        generateSEOButton: '‚ö° ÿß€åÿ≥ ÿß€å ÿßŸà ÿ®ŸÜÿßÿ¶€å⁄∫',
        resetButton: 'üîÅ ÿ±€å ÿ≥€åŸπ ⁄©ÿ±€å⁄∫',
        exportButton: 'üì• ÿß€å⁄©ÿ≥ŸæŸàÿ±Ÿπ ⁄©ÿ±€å⁄∫',
        titleLabel: 'üéØ ÿπŸÜŸàÿßŸÜ',
        titlePlaceholder: 'ÿ¢Ÿæ ⁄©ÿß ÿ®€Åÿ™ÿ± ⁄©ÿ±ÿØ€Å ÿπŸÜŸàÿßŸÜ €å€Åÿß⁄∫ ÿ∏ÿß€Åÿ± €ÅŸà⁄Øÿß...',
        copyTitleButton: 'ÿπŸÜŸàÿßŸÜ ⁄©ÿßŸæ€å ⁄©ÿ±€å⁄∫',
        descriptionLabel: 'üìù ÿ™ŸÅÿµ€åŸÑ',
        descriptionPlaceholder: 'ÿ¢Ÿæ ⁄©ÿß ÿß€åÿ≥ ÿß€å ÿßŸà ÿ™ŸÅÿµ€åŸÑ €å€Åÿß⁄∫ ÿ∏ÿß€Åÿ± €ÅŸà⁄Øÿß...',
        copyDescriptionButton: 'ÿ™ŸÅÿµ€åŸÑ ⁄©ÿßŸæ€å ⁄©ÿ±€å⁄∫',
        hashtagsLabel: 'üìå €Å€åÿ¥ Ÿπ€å⁄Øÿ≤',
        hashtagsPlaceholder: 'ŸÖÿ™ÿπŸÑŸÇ€Å €Å€åÿ¥ Ÿπ€å⁄Øÿ≤ €å€Åÿß⁄∫ ÿ∏ÿß€Åÿ± €ÅŸà⁄∫ ⁄Ø€í...',
        videoTagsLabel: 'üîñ Ÿà€å⁄à€åŸà Ÿπ€å⁄Øÿ≤',
        videoTagsPlaceholder: 'ÿ®€Åÿ™ÿ± ⁄©ÿ±ÿØ€Å Ÿπ€å⁄Øÿ≤ €å€Åÿß⁄∫ ÿ∏ÿß€Åÿ± €ÅŸà⁄∫ ⁄Ø€í...',
        copyTagsButton: 'Ÿπ€å⁄Øÿ≤ ⁄©ÿßŸæ€å ⁄©ÿ±€å⁄∫',
        copyHashtagsButton: '€Å€åÿ¥ Ÿπ€å⁄Øÿ≤ ⁄©ÿßŸæ€å ⁄©ÿ±€å⁄∫',
        footerText: '<strong>YTSEO.ai</strong> ⁄©€í ÿ∞ÿ±€åÿπ€í ÿ™ŸÇŸà€åÿ™ €åÿßŸÅÿ™€Å ‚Äì ÿπÿßŸÑŸÖ€å ÿ™ÿÆŸÑ€åŸÇ ⁄©ÿßÿ±Ÿà⁄∫ ⁄©€í ŸÑ€å€í ‚ù§Ô∏è ÿ≥€í ÿ®ŸÜÿß€åÿß ⁄Ø€åÿß',
        alertEnterTopic: 'ÿ®ÿ±ÿß€Å ⁄©ÿ±ŸÖ Ÿæ€ÅŸÑ€í ÿß€å⁄© Ÿà€å⁄à€åŸà ⁄©ÿß ŸÖŸàÿ∂Ÿàÿπ ÿØÿ±ÿ¨ ⁄©ÿ±€å⁄∫!',
        alertGenerateContent: 'Ÿæ€ÅŸÑ€í ⁄©⁄Ü⁄æ ŸÖŸàÿßÿØ ÿ®ŸÜÿßÿ¶€å⁄∫!',
        copiedSuccess: '‚úì ⁄©ÿßŸæ€å ⁄©€åÿß ⁄Ø€åÿß!',
      },
      ru: {
        darkModeButton: 'üåô –¢–µ–º–Ω—ã–π —Ä–µ–∂–∏–º',
        lightModeButton: '‚òÄÔ∏è –°–≤–µ—Ç–ª—ã–π —Ä–µ–∂–∏–º',
        tagline: '–£–º–Ω–æ–µ SEO. –ë–æ–ª—å—à–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤. –ú–µ–Ω—å—à–µ —Ö–ª–æ–ø–æ—Ç.',
        videoTopicLabel: 'üìù –¢–µ–º–∞ –≤–∏–¥–µ–æ/–°—Ü–µ–Ω–∞—Ä–∏–π',
        videoTopicPlaceholder: '–ù–∞–ø—Ä–∏–º–µ—Ä: –ò—Å—Ç–æ—Ä–∏—è –æ –ª—å–≤–µ, –∫–æ—Ç–æ—Ä—ã–π —É—á–∏—Ç—Å—è —Å–∫—Ä–æ–º–Ω–æ—Å—Ç–∏...',
        contentLanguageLabel: 'üåç –Ø–∑—ã–∫',
        englishOption: '–ê–Ω–≥–ª–∏–π—Å–∫–∏–π',
        hindiOption: '–•–∏–Ω–¥–∏',
        urduOption: '–£—Ä–¥—É',
        russianOption: '–†—É—Å—Å–∫–∏–π',
        videoFormatLabel: 'üé¨ –§–æ—Ä–º–∞—Ç –≤–∏–¥–µ–æ',
        shortVideoOption: '–ö–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ',
        longVideoOption: '–î–ª–∏–Ω–Ω–æ–µ –≤–∏–¥–µ–æ',
        generateSEOButton: '‚ö° –°–æ–∑–¥–∞—Ç—å SEO',
        resetButton: 'üîÅ –°–±—Ä–æ—Å–∏—Ç—å',
        exportButton: 'üì• –≠–∫—Å–ø–æ—Ä—Ç',
        titleLabel: 'üéØ –ó–∞–≥–æ–ª–æ–≤–æ–∫',
        titlePlaceholder: '–í–∞—à –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...',
        copyTitleButton: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫',
        descriptionLabel: 'üìù –û–ø–∏—Å–∞–Ω–∏–µ',
        descriptionPlaceholder: '–í–∞—à–µ SEO-–æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...',
        copyDescriptionButton: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ',
        hashtagsLabel: 'üìå –•—ç—à—Ç–µ–≥–∏',
        hashtagsPlaceholder: '–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ö—ç—à—Ç–µ–≥–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...',
        videoTagsLabel: 'üîñ –¢–µ–≥–∏ –≤–∏–¥–µ–æ',
        videoTagsPlaceholder: '–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–≥–∏ –ø–æ—è–≤—è—Ç—Å—è –∑–¥–µ—Å—å...',
        copyTagsButton: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–≥–∏',
        copyHashtagsButton: '–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Ö—ç—à—Ç–µ–≥–∏',
        footerText: '–†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ <strong>YTSEO.ai</strong> ‚Äì –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –∞–≤—Ç–æ—Ä–æ–≤',
        alertEnterTopic: '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –≤–≤–µ–¥–∏—Ç–µ —Ç–µ–º—É –≤–∏–¥–µ–æ!',
        alertGenerateContent: '–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –∫–∞–∫–æ–π-–ª–∏–±–æ –∫–æ–Ω—Ç–µ–Ω—Ç!',
        copiedSuccess: '‚úì –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ!',
      }
    };

    function applyTranslations(lang) {
      document.querySelectorAll('[data-translate-key]').forEach(element => {
        const key = element.getAttribute('data-translate-key');
        if (translations[lang] && translations[lang][key]) {
          if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
            element.placeholder = translations[lang][key];
          } else if (element.tagName === 'OPTION') {
            element.textContent = translations[lang][key];
          } else if (element.tagName === 'BUTTON' && (key === 'darkModeButton' || key === 'lightModeButton')) {
            element.innerHTML = document.body.classList.contains("dark") ? translations[lang].lightModeButton : translations[lang].darkModeButton;
          } else {
            element.textContent = translations[lang][key];
          }
        }
      });
      const darkModeBtn = document.querySelector('[onclick="toggleDarkMode()"]');
      if (darkModeBtn) {
        darkModeBtn.textContent = document.body.classList.contains("dark") ? translations[lang].lightModeButton : translations[lang].darkModeButton;
      }
    }

    function changeUILanguage() {
      const lang = document.getElementById("uiLang").value;
      localStorage.setItem('ytseoUILang', lang);
      applyTranslations(lang);
    }

    // Copy to Clipboard
    function copyToClipboard(id) {
        const textarea = document.getElementById(id);
        textarea.select();
        document.execCommand("copy");

        const btn = document.querySelector(`[onclick="copyToClipboard('${id}')"]`);
        const originalText = btn.textContent;
        const currentLang = localStorage.getItem('ytseoUILang') || 'en';
        btn.textContent = translations[currentLang].copiedSuccess;
        setTimeout(() => {
            btn.textContent = originalText;
        }, 2000);
    }

    // 2. SMARTER CONTENT GENERATION (DeepSeek's enhanced function)
    function generateSEO() {
      const topic = document.getElementById("inputTopic").value.trim();
      const language = document.getElementById("language").value; // Content language, not UI
      const type = document.getElementById("type").value; // Short or Long video
      const currentUILang = localStorage.getItem('ytseoUILang') || 'en'; // UI language for alerts

      if (!topic) {
        alert(translations[currentUILang].alertEnterTopic);
        return;
      }

      // Case-insensitive partial matching against loaded JSON data
      const matches = seoTips.filter(item =>
        item.keyword.toLowerCase().includes(topic.toLowerCase()) ||
        topic.toLowerCase().includes(item.keyword.toLowerCase())
      );

      let bestMatch = null;
      if (matches.length > 0) {
          // Prioritize exact or closer matches if needed, for simplicity taking the first match
          bestMatch = matches[0];
      }

      if (bestMatch) {
        // Use data from JSON match
        document.getElementById("titleBox").value = bestMatch.title;
        document.getElementById("descBox").value = bestMatch.description;
        document.getElementById("hashtagBox").value = bestMatch.tags.map(t => `#${t.replace(/\s+/g, '')}`).join(" ");
        document.getElementById("tagsBox").value = bestMatch.tags.join(", ");
      } else {
        // Fallback to dynamic generation if no JSON match (our previous logic)
        let titleSuffix = "";
        let descIntro = "";
        let subscribeText = "";
        let likeText = "";
        let commentText = "";

        if (language === "english") {
            const shortOrStory = type === "shorts" ? "Short" : "Story";
            titleSuffix = `Amazing ${shortOrStory}`;
            descIntro = `In this ${type === "shorts" ? "60-second short" : "video"}, we explore "${topic}".`;
            subscribeText = "Subscribe for more English content!";
            likeText = "Like if you found this helpful";
            commentText = "Comment below with your thoughts";
        } else if (language === "hindi") {
            const shortOrStory = type === "shorts" ? "‡§õ‡•ã‡§ü‡§æ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã" : "‡§ï‡§π‡§æ‡§®‡•Ä";
            titleSuffix = `‡§Ö‡§¶‡•ç‡§≠‡•Å‡§§ ${shortOrStory}`;
            descIntro = `‡§á‡§∏ ${type === "shorts" ? "60-‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡•á ‡§≤‡§ò‡•Å ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã" : "‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã"} ‡§Æ‡•á‡§Ç, ‡§π‡§Æ "${topic}" ‡§ï‡§æ ‡§Ö‡§®‡•ç‡§µ‡•á‡§∑‡§£ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç‡•§`;
            subscribeText = "‡§Ö‡§ß‡§ø‡§ï ‡§π‡§ø‡§®‡•ç‡§¶‡•Ä ‡§∏‡§æ‡§Æ‡§ó‡•ç‡§∞‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ ‡§≤‡•á‡§Ç!";
            likeText = "‡§Ö‡§ó‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§Ø‡§π ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§≤‡§ó‡§æ ‡§§‡•ã ‡§≤‡§æ‡§á‡§ï ‡§ï‡§∞‡•á‡§Ç";
            commentText = "‡§Ö‡§™‡§®‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§®‡•Ä‡§ö‡•á ‡§ü‡§ø‡§™‡•ç‡§™‡§£‡•Ä ‡§ï‡§∞‡•á‡§Ç";
        } else if (language === "urdu") {
             const shortOrStory = type === "shorts" ? "ŸÖÿÆÿ™ÿµÿ± Ÿà€å⁄à€åŸà" : "⁄©€ÅÿßŸÜ€å";
             titleSuffix = `ÿ≠€åÿ±ÿ™ ÿßŸÜ⁄Ø€åÿ≤ ${shortOrStory}`;
             descIntro = `ÿßÿ≥ ${type === "shorts" ? "60 ÿ≥€å⁄©ŸÜ⁄à ⁄©€å ŸÖÿÆÿ™ÿµÿ± Ÿà€å⁄à€åŸà" : "Ÿà€å⁄à€åŸà"} ŸÖ€å⁄∫ÿå €ÅŸÖ "${topic}" ⁄©Ÿà ÿØÿ±€åÿßŸÅÿ™ ⁄©ÿ±ÿ™€í €Å€å⁄∫€î`;
             subscribeText = "ŸÖÿ≤€åÿØ ÿßÿ±ÿØŸà ŸÖŸàÿßÿØ ⁄©€í ŸÑ€å€í ÿ≥ÿ®ÿ≥⁄©ÿ±ÿßÿ¶ÿ® ⁄©ÿ±€å⁄∫!";
             likeText = "ÿß⁄Øÿ± ÿ¢Ÿæ ⁄©Ÿà €å€Å ŸÖŸÅ€åÿØ ŸÑ⁄Øÿß ÿ™Ÿà ŸÑÿßÿ¶⁄© ⁄©ÿ±€å⁄∫";
             commentText = "ÿßŸæŸÜ€í ÿÆ€åÿßŸÑÿßÿ™ ŸÜ€å⁄Ü€í ⁄©ŸÖŸÜŸπÿ≥ ŸÖ€å⁄∫ ÿ®ÿ™ÿßÿ¶€å⁄∫";
        } else if (language === "russian") {
            const shortOrStory = type === "shorts" ? "–∫–æ—Ä–æ—Ç–∫–æ–µ –≤–∏–¥–µ–æ" : "–∏—Å—Ç–æ—Ä–∏—è";
            titleSuffix = `–£–¥–∏–≤–∏—Ç–µ–ª—å–Ω–∞—è ${shortOrStory}`;
            descIntro = `–í —ç—Ç–æ–º ${type === "shorts" ? "60-—Å–µ–∫—É–Ω–¥–Ω–æ–º –∫–æ—Ä–æ—Ç–∫–æ–º –≤–∏–¥–µ–æ" : "–≤–∏–¥–µ–æ"} –º—ã –∏—Å—Å–ª–µ–¥—É–µ–º "${topic}".`;
            subscribeText = "–ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ!";
            likeText = "–ü–æ—Å—Ç–∞–≤—å—Ç–µ –ª–∞–π–∫, –µ—Å–ª–∏ —ç—Ç–æ –±—ã–ª–æ –ø–æ–ª–µ–∑–Ω–æ";
            commentText = "–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–∏ –º—ã—Å–ª–∏ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö –Ω–∏–∂–µ";
        }

        document.getElementById("titleBox").value = `${topic} - ${titleSuffix}`;
        document.getElementById("descBox").value =
`
${descIntro}

üîî ${subscribeText}
üëç ${likeText}
üí¨ ${commentText}

#${language} #${type} #story`;

        document.getElementById("hashtagBox").value =
`#${language} #${type} #story #viral #trending #${topic.replace(/\s+/g, '')}`;

        document.getElementById("tagsBox").value =
`${topic}, ${language} ${type}, ${type} video, viral ${type}, ${topic} story`;
      }
    }

    // Reset Form
    function resetFields() {
      document.getElementById("inputTopic").value = "";
      document.getElementById("language").selectedIndex = 0;
      document.getElementById("type").selectedIndex = 0;
      document.getElementById("titleBox").value = "";
      document.getElementById("descBox").value = "";
      document.getElementById("hashtagBox").value = "";
      document.getElementById("tagsBox").value = "";
    }

    // Download as TXT
    function downloadTxt() {
      const title = document.getElementById("titleBox").value;
      const desc = document.getElementById("descBox").value;
      const tags = document.getElementById("tagsBox").value;
      const hashtags = document.getElementById("hashtagBox").value;
      const currentLang = localStorage.getItem('ytseoUILang') || 'en';

      if (!title && !desc && !tags && !hashtags) {
        alert(translations[currentUILang].alertGenerateContent);
        return;
      }

      const content = `Title:\n${title}\n\nDescription:\n${desc}\n\nTags:\n${tags}\n\nHashtags:\n${hashtags}`;
      const blob = new Blob([content], { type: "text/plain" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "ytseo-ai-content.txt";
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }

    // Dark Mode Toggle
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
      const btn = document.querySelector('[onclick="toggleDarkMode()"]');
      const currentLang = localStorage.getItem('ytseoUILang') || 'en';
      btn.textContent = document.body.classList.contains("dark") ? translations[currentLang].lightModeButton : translations[currentLang].darkModeButton;
      localStorage.setItem('ytseoDarkMode', document.body.classList.contains("dark"));
    }

    // 3. INITIALIZE ON LOAD (DeepSeek's improvement, combined with our existing DOMContentLoaded)
    document.addEventListener('DOMContentLoaded', async () => {
        // Load SEO tips first
        const data = await loadSEOTips();
        seoTips = data.seo_tips;

        // Then apply UI language and dark mode
        const savedLang = localStorage.getItem('ytseoUILang') || 'en';
        document.getElementById('uiLang').value = savedLang;
        applyTranslations(savedLang);

        if (localStorage.getItem('ytseoDarkMode') === 'true') {
            document.body.classList.add('dark');
            const btn = document.querySelector('[onclick="toggleDarkMode()"]');
            const currentLang = localStorage.getItem('ytseoUILang') || 'en';
            btn.textContent = translations[currentLang].lightModeButton;
        }
    });
  </script>
</body>
</html>
